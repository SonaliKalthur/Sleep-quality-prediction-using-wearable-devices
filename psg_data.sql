--CREATE ROLE psg_user
--  NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;
--
--CREATE ROLE subtest LOGIN PASSWORD 'psgtest'
--  NOSUPERUSER INHERIT NOCREATEDB NOCREATEROLE NOREPLICATION;
--GRANT psg_user TO psgtest;

-- CREATE SCHEMA psg_data
--       AUTHORIZATION dbtest;
-- COMMENT ON SCHEMA psg_data
-- SET SCHEMA psg_data
CREATE TABLE psg_data (
record_id INTEGER,
No_id INTEGER,
Participant_Record_ID INTEGER,
Participant VARCHAR,
PSG_File_Name VARCHAR,
DOB Date,
Study_Date Date,
Study_Start_Time TIME WITHOUT TIME ZONE, 
Study_End_Time TIME WITHOUT TIME ZONE,
Time_in_Bed_min numeric,
Sleep_Latency_min numeric,
REM_Latency_min numeric,
Sleep_Efficiency_Percent numeric,
Total_Time_Awake_During_Sleep_Period_min numeric,
Total_Sleep_Time_min numeric,
NREM_min numeric,
NREM_Percent numeric,
REM_min numeric,
REM_Percent numeric,
Stage_1_min	numeric,
Stage_1_Percent	numeric,
Stage_2_min	numeric,
Stage_2_Percent	numeric,
Stage_3_min	numeric,
Stage_3_Percent	numeric,
Stage_4_min	integer,
Stage_4_Percent numeric,
Total_Arousal_Count_TST numeric,
Total_Arousal_Count_REM numeric,
Total_Arousal_Count_NREM numeric,
Total_Arousals_Index_TST numeric,
Total_Arousals_Index_REM numeric,
Total_Arousals_Index_NREM numeric,
Respiratory_Arousal_Count_TST numeric,
Respiratory_Arousal_Count_REM numeric,
Respiratory_Arousal_Count_NREM numeric,
Respiratory_Arousals_Index_TST numeric,
Respiratory_Arousals_Index_REM numeric,
Respiratory_Arousals_Index_NREM numeric,
Spontaneous_Arousal_Count_TST numeric,
Spontaneous_Arousal_Count_REM numeric,
Spontaneous_Arousal_Count_NREM numeric,
Spontaneous_Arousals_Index_TST numeric,
Spontaneous_Arousals_Index_REM numeric,
Spontaneous_Arousals_Index_NREM numeric,
Limb_Movement_Arousal_Count_TST numeric,
Limb_Movement_Arousal_Count_REM numeric,
Limb_Movement_Arousal_Count_NREM numeric,
Limb_Movement_Arousals_Index_TST numeric,
Limb_Movement_Arousals_Index_REM numeric,
Limb_Movement_Arousals_Index_NREM numeric,
Total_Apnea_Count_TST numeric,
Total_Apnea_Count_REM numeric,
Total_Apnea_Count_NREM numeric,
Total_Apnea_Index_TST numeric,
Total_Apnea_Index_REM numeric,
Total_Apnea_Index_NREM numeric,
Mean_Apnea_Duration_TST numeric,
Max_Apnea_Duration_TST numeric,
Central_Apnea_Count_TST numeric,
Central_Apnea_Count_REM numeric,
Central_Apnea_Count_NREM numeric,
Central_Apnea_Count_Supine numeric,
Central_Apnea_Count_Prone numeric,
Central_Apnea_Count_Left_Side numeric,
Central_Apnea_Count_Right_Side numeric,
Central_Apnea_Index_TST numeric,
Central_Apnea_Index_REM numeric,
Central_Apnea_Index_NREM numeric,
Central_Apnea_Index_Supine numeric,
Central_Apnea_Index_Prone numeric,
Central_Apnea_Index_Left_Side numeric,
Central_Apnea_Index_Right_Side numeric,
Mean_Central_Apnea_Duration_TST numeric,
Max_Central_Apnea_Duration_TST numeric,
Obstructive_Apnea_Count_TST numeric,
Obstructive_Apnea_Count_REM numeric,
Obstructive_Apnea_Count_NREM numeric,
Obstructive_Apnea_Count_Supine numeric,
Obstructive_Apnea_Count_Prone numeric,
Obstructive_Apnea_Count_Left_Side numeric,
Obstructive_Apnea_Count_Right_Side numeric,
Obstructive_Apnea_Index_TST numeric,
Obstructive_Apnea_Index_REM numeric,
Obstructive_Apnea_Index_NREM numeric,
Obstructive_Apnea_Index_Supine numeric,
Obstructive_Apnea_Index_Prone numeric,
Obstructive_Apnea_Index_Left_Side numeric,
Obstructive_Apnea_Index_Right_Side numeric,
Mean_Obstructive_Apnea_Duration_TST numeric,
Max_Obstructive_Apnea_Duration_TST numeric,
Mixed_Apnea_Count_TST numeric,
Mixed_Apnea_Count_REM numeric,
Mixed_Apnea_Count_NREM numeric,
Mixed_Apnea_Count_Supine numeric,
Mixed_Apnea_Count_Prone numeric,
Mixed_Apnea_Count_Left_Side numeric,
Mixed_Apnea_Count_Right_Side numeric,
Mixed_Apnea_Index_TST numeric,
Mixed_Apnea_Index_REM numeric,
Mixed_Apnea_Index_NREM numeric,
Mixed_Apnea_Index_Supine numeric,
Mixed_Apnea_Index_Prone numeric,
Mixed_Apnea_Index_Left_Side numeric,
Mixed_Apnea_Index_Right_Side numeric,
Mean_Mixed_Apnea_Duration_TST numeric,
Max_Mixed_Apnea_Duration_TST numeric,
Total_Hypopnea_Count_TST numeric,
Total_Hypopnea_Count_REM numeric,
Total_Hypopnea_Count_NREM numeric,
Total_Hypopnea_Count_Supine numeric,
Total_Hypopnea_Count_Prone numeric,
Total_Hypopnea_Count_Left_Side numeric,
Total_Hypopnea_Count_Right_Side numeric,
Total_Hypopnea_Index_TST numeric,
Total_Hypopnea_Index_REM numeric,
Total_Hypopnea_Index_NREM numeric,
Total_Hypopnea_Index_Supine numeric,
Total_Hypopnea_Index_Prone numeric,
Total_Hypopnea_Index_Left_Side numeric,
Total_Hypopnea_Index_Right_Side numeric,
Mean_Hypopnea_Duration_TST numeric,
Max_Hypopnea_Duration_TST numeric,
Central_Hypopnea_Count_TST numeric,
Central_Hypopnea_Count_REM numeric,
Central_Hypopnea_Count_NREM numeric,
Central_Hypopnea_Index_TST numeric,
Central_Hypopnea_Index_REM numeric,
Central_Hypopnea_Index_NREM numeric,
Mean_Central_Hypopnea_Duration_TST numeric,
Max_Central_Hypopnea_Duration_TST numeric,
Obstructive_Hypopnea_Count_TST numeric,
Obstructive_Hypopnea_Count_REM numeric,
Obstructive_Hypopnea_Count_NREM numeric,
Obstructive_Hypopnea_Index_TST numeric,
Obstructive_Hypopnea_Index_REM numeric,
Obstructive_Hypopnea_Index_NREM numeric,
Mean_Obstructive_Hypopnea_Duration_TST numeric,
Max_Obstructive_Hypopnea_Duration_TST numeric,
Apnea_Hypopnea_Count_TST numeric,
Apnea_Hypopnea_Index_TST numeric,
Apnea_Hypopnea_Count_REM numeric,
Apnea_Hypopnea_Count_NREM numeric,
Total_Respiratory_Count_REM numeric,
Total_Respiratory_Count_NREM numeric,
Total_Respiratory_Count_Supine numeric,
Total_Respiratory_Count_Prone numeric,
Total_Respiratory_Count_Left_Side numeric,
Total_Respiratory_Count_Right_Side numeric,
Total_Respiratory_Index_REM numeric,
Total_Respiratory_Index_NREM numeric,
Total_Respiratory_Index_Supine numeric,
Total_Respiratory_Index_Prone numeric,
Total_Respiratory_Index_Left_Side numeric,
Total_Respiratory_Index_Right_Side numeric,
Total_Apnea_Count_TST_w_Desat numeric,
Total_Apnea_Count_REM_w_Desat numeric,
Total_Apnea_Count_NREM_w_Desat numeric,
Total_Apnea_Index_TST_w_Desat numeric,
Total_Apnea_Index_REM_w_Desat numeric,
Total_Apnea_Index_NREM_w_Desat numeric,
Mean_Apnea_Duration_TST_w_Desat numeric,
Max_Apnea_Duration_TST_w_Desat numeric,
Central_Apnea_Count_TST_w_Desat numeric,
Central_Apnea_Count_REM_w_Desat numeric,
Central_Apnea_Count_NREM_w_Desat numeric,
Central_Apnea_Count_Supine_w_Desat numeric,
Central_Apnea_Count_Prone_w_Desat numeric,
Central_Apnea_Count_Left_Side_w_Desat numeric,
Central_Apnea_Count_Right_Side_w_Desat numeric,
Central_Apnea_Index_TST_w_Desat numeric,
Central_Apnea_Index_REM_w_Desat numeric,
Central_Apnea_Index_NREM_w_Desat numeric,
Central_Apnea_Index_Supine_w_Desat numeric,
Central_Apnea_Index_Prone_w_Desat numeric,
Central_Apnea_Index_Left_Side_w_Desat numeric,
Central_Apnea_Index_Right_Side_w_Desat numeric,
Mean_Central_Apnea_Duration_TST_w_Desat numeric,
Max_Central_Apnea_Duration_TST_w_Desat numeric,
Obstructive_Apnea_Count_TST_w_Desat numeric,
Obstructive_Apnea_Count_REM_w_Desat numeric,
Obstructive_Apnea_Count_NREM_w_Desat numeric,
Obstructive_Apnea_Count_Supine_w_Desat numeric,
Obstructive_Apnea_Count_Prone_w_Desat numeric,
Obstructive_Apnea_Count_Left_Side_w_Desat numeric,
Obstructive_Apnea_Count_Right_Side_w_Desat numeric,
Obstructive_Apnea_Index_TST_w_Desat numeric,
Obstructive_Apnea_Index_REM_w_Desat numeric,
Obstructive_Apnea_Index_NREM_w_Desat numeric,
Obstructive_Apnea_Index_Supine_w_Desat numeric,
Obstructive_Apnea_Index_Prone_w_Desat numeric,
Obstructive_Apnea_Index_Left_Side_w_Desat numeric,
Obstructive_Apnea_Index_Right_Side_w_Desat numeric,
Mean_Obstructive_Apnea_Duration_TST_w_Desat numeric,
Max_Obstructive_Apnea_Duration_TST_w_Desat numeric,
Total_Hypopnea_Count_TST_w_Desat numeric,
Total_Hypopnea_Count_REM_w_Desat numeric,
Total_Hypopnea_Count_NREM_w_Desat numeric,
Total_Hypopnea_Count_Supine_w_Desat numeric,
Total_Hypopnea_Count_Prone_w_Desat numeric,
Total_Hypopnea_Count_Left_Side_w_Desat numeric,
Total_Hypopnea_Count_Right_Side_w_Desat numeric,
Total_Hypopnea_Index_TST_w_Desat numeric,
Total_Hypopnea_Index_REM_w_Desat numeric,
Total_Hypopnea_Index_NREM_w_Desat numeric,
Total_Hypopnea_Index_Supine_w_Desat numeric,
Total_Hypopnea_Index_Prone_w_Desat numeric,
Total_Hypopnea_Index_Left_Side_w_Desat numeric,
Total_Hypopnea_Index_Right_Side_w_Desat numeric,
Mean_Hypopnea_Duration_TST_w_Desat numeric,
Max_Hypopnea_Duration_TST_w_Desat numeric,
Apnea_Hypopnea_Count_TST_w_Desat numeric,
Apnea_Hypopnea_Index_TST_w_Desat numeric,
Apnea_Hypopnea_Count_REM_w_Desat numeric,
Apnea_Hypopnea_Count_NREM_w_Desat numeric,
Total_Respiratory_Count_REM_w_Desat numeric,
Total_Respiratory_Count_NREM_w_Desat numeric,
Total_Respiratory_Count_Supine_w_Desat numeric,
Total_Respiratory_Count_Prone_w_Desat numeric,
Total_Respiratory_Count_Left_Side_w_Desat numeric,
Total_Respiratory_Count_Right_Side_w_Desat numeric,
Total_Respiratory_Index_REM_w_Desat numeric,
Total_Respiratory_Index_NREM_w_Desat numeric,
Total_Respiratory_Index_Supine_w_Desat numeric,
Total_Respiratory_Index_Prone_w_Desat numeric,
Total_Respiratory_Index_Left_Side_w_Desat numeric,
Total_Respiratory_Index_Right_Side_w_Desat numeric,
Desat_Event_Count_WASO numeric,
Desat_Event_Count_TST numeric,
Desat_Event_Count_REM numeric,
Desat_Event_Count_NREM numeric,
Desat_Event_Index_WASO numeric,
Desat_Event_Index_TST numeric,
Desat_Event_Index_REM numeric,
Desat_Event_Index_NREM numeric,
Mean_Desaturation_Duration_TST_seconds numeric,
Mean_Desaturation_Duration_REM_seconds numeric,
Mean_Desaturation_Duration_Non_REM_seconds numeric,
Desat_Event_Count_TIB numeric,
Desat_Event_Count_Supine numeric,
Desat_Event_Count_NonSupine numeric,
Desat_Event_Index_TIB numeric,
Desat_Event_Index_Supine numeric,
Desat_Event_Index_NonSupine numeric,
Mean_SaO2Percent_Supine numeric,
Mean_SaO2Percent_Non_Supine numeric,
SaO2_Percentage_In_Range_90_to_100_TIB numeric,
SaO2_Percentage_In_Range_80_to_89_TIB numeric,
SaO2_Percentage_In_Range_70_to_79_TIB numeric,
SaO2_Percentage_In_Range_60_to_69_TIB numeric,
SaO2_Percentage_In_Range_50_to_59_TIB numeric,
SaO2_Percentage_Below_50_Wake numeric,
SaO2_Percentage_Below_50_TIB numeric,
SaO2_Percentage_Below_50_TST numeric,
SaO2_Percentage_Below_50_REM numeric,
SaO2_Percentage_Below_50_NREM numeric,
Max_SaO2Percent_TIB numeric,
Mean_SaO2Percent_TIB numeric,
Min_SaO2Percent_TIB numeric,
Max_SaO2Percent_Wake numeric,
Mean_SaO2Percent_Wake numeric,
Min_SaO2Percent_Wake numeric,
Max_SaO2Percent_TST numeric,
Mean_SaO2Percent_TST numeric,
Min_SaO2Percent_TST numeric,
Max_SaO2Percent_REM numeric,
Mean_SaO2Percent_REM numeric,
Min_SaO2Percent_REM numeric,
Max_SaO2Percent_NREM numeric,
Mean_SaO2Percent_NREM numeric,
Min_SaO2Percent_NREM numeric,
Supine_Sleep_Time numeric,
Supine_Sleep_Time_Minutes numeric,
Supine_Sleep_Time_Hours numeric,
Supine_Sleep_Time_PercentTST numeric,
Prone_Sleep_Time numeric,
Prone_Sleep_Time_Minutes numeric,
Prone_Sleep_Time_Hours numeric,
Prone_Sleep_Time_PercentTST numeric,
Left_Side_Sleep_Time numeric,
Left_Side_Sleep_Time_Minutes numeric,
Left_Side_Sleep_Time_Hours numeric,
Left_Side_Sleep_Time_PercentTST numeric,
Right_Side_Sleep_Time numeric,
Right_Side_Sleep_Time_Minutes numeric,
Right_Side_Sleep_Time_Hours numeric,
Right_Side_Sleep_Time_PercentTST numeric,
Upright_Sleep_Time numeric,
Upright_Sleep_Time_Minutes numeric,
Upright_Sleep_Time_Hours numeric,
Upright_Sleep_Time_PercentTST numeric,
Non_Supine_Sleep_Time_Minutes numeric,
Non_Supine_Sleep_Time_PercentTST numeric,
PLM_Count_TST numeric,
PLM_Duration_TST numeric,
PLM_Mean_Duration_TST numeric,
PLM_Max_Duration_TST numeric,
PLM_Percentage_TST numeric,
LimbMovementCount_TIB numeric,
LimbMovementCount_Supine numeric,
LimbMovementCount_Non_Supine numeric
);